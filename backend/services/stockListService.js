// 터틀 트레이딩과 슈퍼스톡스에서 공유하는 통합 종목 리스트 서비스
class StockListService {
  
  // 통합 500개 종목 리스트 (터틀 + 슈퍼스톡스 공통)
  static getUnifiedStockList() {
    return [
      // === 코스피 주요 종목 (시가총액 상위 250개) ===
      '005930', '000660', '035420', '005380', '012330', '000270', '105560', '055550', '035720', '051910',
      '006400', '028260', '096770', '003550', '015760', '017670', '034730', '003490', '009150', '032830',
      '000810', '001570', '068270', '207940', '323410', '003670', '018260', '005935', '329180', '010950',
      '000720', '024110', '316140', '086790', '030200', '009540', '011200', '139480', '021240', '161390',
      '005490', '004020', '010140', '011070', '001450', '090430', '002790', '018880', '051900', '097950',
      
      '000880', '016360', '003690', '010130', '004170', '012450', '009830', '000120', '047050', '011780',
      '267250', '018880', '036460', '010620', '001040', '010060', '006800', '047810', '011210', '000100',
      '005940', '001680', '004990', '026960', '006360', '000430', '011790', '092230', '004000', '001120',
      '005850', '078930', '004800', '000670', '000950', '002380', '017800', '032640', '002710', '009270',
      '011170', '000240', '003410', '001740', '004490', '006260', '000080', '008930', '028670', '014680',
      
      '005420', '002350', '010780', '006650', '005290', '011780', '004370', '003480', '002600', '000390',
      '009900', '006370', '000500', '042660', '011600', '005810', '093370', '002020', '004430', '006110',
      '001770', '010120', '001390', '000640', '004170', '003000', '001430', '001250', '018670', '002240',
      '000340', '000440', '000020', '003580', '009970', '011930', '000650', '010580', '000230', '000210',
      '005180', '003850', '004890', '000050', '010040', '011320', '003920', '002900', '001800', '003230',
      
      '000040', '000990', '001510', '003240', '007570', '004140', '002320', '005110', '005320', '003470',
      '001520', '002760', '010770', '006120', '002270', '001200', '006280', '001230', '003530', '002840',
      '001630', '003160', '000590', '000850', '005960', '000220', '005930', '009450', '000680', '003090',
      '001340', '003070', '001880', '000780', '003620', '003560', '001060', '003300', '006890', '003350',
      '007310', '004080', '002460', '003280', '001460', '002450', '000890', '002200', '005250', '003380',
      
      '003540', '002690', '003680', '001040', '000860', '005300', '001940', '002030', '004540', '000400',
      '003830', '001360', '004000', '001740', '003440', '001820', '000320', '002870', '003720', '000960',
      '000760', '001070', '003650', '000030', '002630', '003130', '001900', '003810', '001330', '002310',
      '006340', '003490', '002140', '003240', '002100', '004700', '002700', '002260', '003460', '001660',
      '005870', '001500', '003980', '003010', '001600', '000600', '005720', '004020', '005690', '002810',
      
      // === 코스닥 주요 종목 (250개) ===
      '251270', '036570', '352820', '377300', '259960', '293490', '263750', '095660', '112040', '299900',
      '122870', '041510', '035900', '067160', '181710', '034120', '182360', '194480', '054780', '192080',
      '326030', '145020', '195940', '214150', '214450', '009420', '285130', '196170', '065660', '302440',
      '091990', '328130', '085660', '237690', '287410', '099430', '141080', '156100', '042700', '000990',
      '058470', '240810', '064290', '039030', '131970', '108860', '347860', '256940', '033240', '046390',
      
      '060720', '214370', '347890', '052020', '078600', '036810', '036540', '140610', '403870', '206640',
      '086520', '101160', '067630', '066700', '418550', '189300', '950170', '950140', '099190', '230240',
      '205470', '174900', '950210', '950130', '006280', '088350', '051600', '086900', '068760', '279600',
      '267290', '137400', '161000', '187660', '183300', '306200', '277880', '225570', '347000', '383310',
      '090460', '278280', '033500', '263770', '047920', '036620', '039200', '032350', '000500', '020000',
      
      '005300', '086890', '079170', '028050', '079430', '131390', '064960', '192820', '079370', '086450',
      '060310', '226330', '178920', '004000', '000150', '004560', '001800', '067310', '053610', '950160',
      '034590', '128940', '031430', '900310', '000100', '053030', '217820', '200130', '256940', '015540',
      '114190', '138930', '041520', '108320', '089470', '035610', '037440', '144620', '032500', '215600',
      '289080', '317400', '039490', '121890', '200670', '234080', '187220', '298690', '131290', '183190',
      
      '122630', '095720', '060280', '084370', '263050', '215200', '302550', '036190', '049520', '298020',
      '138040', '215090', '041190', '252990', '053160', '036200', '000250', '213420', '086960', '033780',
      '046890', '900140', '216080', '347770', '079940', '300720', '267980', '237880', '290650', '238090',
      '033290', '033200', '241590', '215000', '300080', '900250', '310210', '263600', '347860', '900290',
      '183490', '095910', '046970', '048550', '114450', '294570', '263920', '215480', '222980', '222080',
      
      '023530', '237750', '220260', '047770', '041830', '039570', '256630', '298380', '036810', '900300',
      '900270', '216400', '042940', '194370', '036930', '317330', '237820', '237210', '234300', '115310',
      '950110', '215100', '900280', '173130', '950120', '215610', '900320', '900260', '042000', '950130',
      '950140', '950150', '950160', '950170', '950180', '950190', '900100', '900110', '900120', '900130',
      '900160', '900170', '900180', '900190', '900200', '900210', '900220', '900230', '900240', '035760',
      
      '037560', '043370', '043590', '215360', '267980', '290650', '309930', '317320', '900330', '214320',
      '290510', '215200', '215090', '214330', '213420', '213500', '214450', '214150', '900190', '900200'
    ];
  }
  
  // 터틀 트레이딩용 watchlist 형태로 변환
  static getTurtleWatchlist() {
    const stockCodes = this.getUnifiedStockList();
    return stockCodes.map(symbol => ({
      symbol: symbol,
      name: this.getStockName(symbol)
    }));
  }
  
  // 슈퍼스톡스용 심볼 배열 형태로 반환
  static getSuperstocksStockList() {
    return this.getUnifiedStockList();
  }
  
  // 종목명 반환 (확장된 매핑)
  static getStockName(symbol) {
    const names = {
      // 코스피 주요 종목
      '005930': '삼성전자', '000660': 'SK하이닉스', '035420': 'NAVER',
      '005380': '현대차', '012330': '현대모비스', '000270': '기아',
      '105560': 'KB금융', '055550': '신한지주', '035720': '카카오', 
      '051910': 'LG화학', '006400': '삼성SDI', '028260': '삼성물산',
      '096770': 'SK이노베이션', '003550': 'LG', '015760': '한국전력',
      '017670': 'SK텔레콤', '034730': 'SK', '003490': '대한항공',
      '009150': '삼성전기', '032830': '삼성생명', '068270': '셀트리온',
      '207940': '삼성바이오로직스', '323410': '카카오뱅크',
      '005935': '삼성전자우',
      
      // 코스닥 주요 종목  
      '251270': '넷마블', '036570': '엔씨소프트', '352820': '하이브',
      '326030': 'SK바이오팜', '042700': '한미반도체', '377300': '카카오페이',
      '259960': '크래프톤', '293490': '카카오게임즈', '263750': '펄어비스',
      '145020': '휴젤', '195940': 'HK이노엔', '214150': '클래시스',
      '214450': '파마리서치', '196170': '알테오젠', '328130': '루닛',
      '285130': 'SK케미칼', '347860': '알체라', '039030': '이오테크닉스',
      '240810': '원익IPS', '058470': '리노공업', '178920': '피아이첨단소재',
      '189300': '인텔리안테크', '237690': '에스티팜', '141080': '레고켐바이오',
      '108860': '셀바스AI', '064290': '인텍플러스', '095660': '네오위즈',
      '112040': '위메이드', '182360': '큐브엔터', '194480': '데브시스터즈',
      '222080': '씨아이에스',
      
      // 추가 코스피 종목
      '090430': '아모레퍼시픽', '002790': '아모레G', '018880': '한온시스템',
      '051900': 'LG생활건강', '097950': 'CJ제일제당', '086790': '하나금융지주',
      '316140': '우리금융지주', '024110': '기업은행', '030200': 'KT',
      '009540': 'HD한국조선해양', '011200': 'HMM', '139480': '이마트',
      '021240': '코웨이', '161390': '한국타이어앤테크놀로지',
      
      // 자주 나오는 기타 종목들
      '200670': '휴메딕스', '298690': '에이스토리', '183190': '아이에스동서',
      '215200': '메가스터디교육', '252990': '샘씨엔에스', '215100': '액션스퀘어',
      '300080': '플리토', '290650': '엘앤씨바이오', '263750': '펄어비스',
      '215000': '골프존', '238090': '앤디포스', '900240': '코웨이홀딩스',
      '004990': '롯데지주',
      '214370': '케어젠'
    };
    // 매핑되지 않은 종목은 업종 추정 + 코드로 표시
    if (names[symbol]) {
      return names[symbol];
    }
    
    // 종목코드 패턴으로 업종 추정
    const firstDigit = symbol.charAt(0);
    let industryPrefix = '';
    
    if (firstDigit === '0' || firstDigit === '1') {
      industryPrefix = 'KS'; // 코스피
    } else if (firstDigit === '2') {
      industryPrefix = 'KQ'; // 코스닥
    } else if (firstDigit === '3') {
      industryPrefix = 'IT'; // 코스닥 IT
    } else {
      industryPrefix = 'ST'; // 기타
    }
    
    return `${industryPrefix}_${symbol}`;
  }
  
  // 통계 정보
  static getStatistics() {
    const stockList = this.getUnifiedStockList();
    const kospiCodes = stockList.filter(code => code.startsWith('00') || code.startsWith('01') || code.startsWith('02') || code.startsWith('03') || code.startsWith('04') || code.startsWith('05') || code.startsWith('06') || code.startsWith('07') || code.startsWith('08') || code.startsWith('09'));
    const kosdaqCodes = stockList.filter(code => !kospiCodes.includes(code));
    
    return {
      total: stockList.length,
      kospi: kospiCodes.length,
      kosdaq: kosdaqCodes.length,
      description: `통합 종목 풀: 터틀 트레이딩과 슈퍼스톡스에서 공통 사용`
    };
  }
}

module.exports = StockListService;